{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAGpC,IAAIC,EAsBF,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEH,EAAUS,MAAAR,IAEpBG,EAAO,C,SAAEJ,EAAUS,MAAAR,GAAQ,GAE5BA,EAAM,G,CAjCfN,EAAKe,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAMC,iBACN,MAAMC,EAAW,GACjB,IAAKb,SAAS,EAAGA,WAAWL,EAAKmB,OAAOC,MAAOf,WAC7CF,GAASH,EAAKc,MAAMM,QAAUpB,EAAKqB,KAAKD,OAAUf,SAAW,GAE7DD,EAAcC,SAAUF,GACrBmB,MAAK,EAACjB,SAAEA,EAAUS,MAAAS,MACjBC,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAqBrB,QAAiBkB,MAAU,IAEzEI,OAAM,EAACtB,SAAEA,EAAUS,MAAAc,MAClBJ,EAAA1B,GAAS2B,OAAOI,QAAQ,sBAAoBxB,QAAeuB,MAAU,IAGzEV,EAASY,KAAK1B,EAAcC,SAAUF,IAExCI,QAAQwB,KAAKb,GACZI,MAAKF,GAASY,QAAQC,IAAIb,KAC1BO,OAAMO,GAASF,QAAQC,IAAIC,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitBtn);\nlet delay;\n\nfunction onSubmitBtn (event){\n  event.preventDefault();\n  const promises = [];\n  for (position=1; position<=+form.amount.value; position++){\n    delay = +form.delay.value + (+form.step.value) * (position - 1);\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n\n    promises.push(createPromise(position, delay))};\n  \n  Promise.race(promises)\n  .then(value => console.log(value)) \n  .catch(error => console.log(error))};\n\n  function createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n  \n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ position, delay });\n        } else {\n          reject({ position, delay });\n        }\n      }, delay);\n    });\n  }\n  "],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$createPromise","position","delay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","addEventListener","event","preventDefault","promises","amount","value","step","then","delay1","$parcel$interopDefault","Notify","success","catch","delay2","failure","push","race","console","log","error"],"version":3,"file":"03-promises.15d4a2bb.js.map"}