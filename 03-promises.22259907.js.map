{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAEpC,IAAIC,EAEJ,SAASC,EAAcC,EAAGC,GACtB,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,EAAEH,EAAGS,MAAAR,IAEbG,EAAO,C,EAACJ,EAAGS,MAAAR,GAAQ,GAEpBA,EAAM,G,CAuBbN,EAAKe,iBAAiB,UApBxB,SAAsBC,GACpBA,EAAMC,iBACN,MAAMC,EAAW,GACjB,IAAKb,EAAE,EAAGA,IAAIL,EAAKmB,OAAOC,MAAOf,IAC/BF,GAASH,EAAKc,MAAMM,QAAUpB,EAAKqB,KAAKD,OAAUf,EAAI,GAEpDD,EAAcC,EAAGF,GAChBmB,MAAK,EAACjB,EAAEA,EAAGS,MAAAS,MACVC,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAqBrB,QAAUkB,MAAU,IAElEI,OAAM,EAACtB,EAAEA,EAAGS,MAAAc,MACXJ,EAAA1B,GAAS2B,OAAOI,QAAQ,sBAAoBxB,QAAQuB,MAAU,IAElEV,EAASY,KAAK1B,EAAcC,EAAGF,IAEjCI,QAAQwB,KAAKb,GACZI,MAAKF,GAASY,QAAQC,IAAIb,KAC1BO,OAAMO,GAASF,QAAQC,IAAIC,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nlet delay;\n\nfunction createPromise(i, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n  \n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ i, delay });\n        } else {\n          reject({i, delay });\n        }\n      }, delay);\n    });\n  }\nfunction onSubmitBtn (event){\n  event.preventDefault();\n  const promises = [];\n  for (i=1; i<=+form.amount.value; i++){\n    delay = +form.delay.value + (+form.step.value) * (i - 1);\n\n      createPromise(i, delay)\n      .then(({ i, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${delay}ms`);\n      })\n      .catch(({ i, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${delay}ms`);\n      });\n    promises.push(createPromise(i, delay))};\n  \n  Promise.race(promises)\n  .then(value => console.log(value)) \n  .catch(error => console.log(error))};\n\n\n  form.addEventListener('submit', onSubmitBtn);\n\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$createPromise","i","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","addEventListener","event","preventDefault","promises","amount","value","step","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure","push","race","console","log","error"],"version":3,"file":"03-promises.22259907.js.map"}