{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAEpC,IAAIC,EACAC,EACJ,SAASC,EAAcC,EAAGC,GACtB,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,CAAEM,EAAAT,EAAGU,MAAAT,IAEbG,EAAO,CAACK,EAAAT,EAAGU,MAAAT,GAAQ,GAEpBA,EAAM,G,CAuBbP,EAAKiB,iBAAiB,UApBxB,SAAsBC,GACpBA,EAAMC,iBACN,MAAMC,EAAW,GACjB,IAAKhB,EAAE,EAAGA,IAAIJ,EAAKqB,OAAOC,MAAOlB,IAC/BD,GAASH,EAAKgB,MAAMM,QAAUtB,EAAKuB,KAAKD,OAAUlB,EAAI,GAEpDC,EAAcD,EAAGD,GAChBqB,MAAK,EAAGT,EAAAU,EAAGT,MAAAU,MACVC,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBJ,QAAUC,MAAU,IAElEI,OAAM,EAAGf,EAAAgB,EAAGf,MAAAgB,MACXL,EAAA7B,GAAS8B,OAAOK,QAAQ,sBAAoBF,QAAQC,MAAU,IAElEZ,EAASc,KAAK7B,EAAcD,EAAGD,IAEjCK,QAAQ2B,KAAKf,GACZI,MAAKF,GAASc,QAAQC,IAAIf,KAC1BQ,OAAMQ,GAASF,QAAQC,IAAIC,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nlet delay;\nlet i;\nfunction createPromise(i, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n  \n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ i, delay });\n        } else {\n          reject({i, delay });\n        }\n      }, delay);\n    });\n  }\nfunction onSubmitBtn (event){\n  event.preventDefault();\n  const promises = [];\n  for (i=1; i<=+form.amount.value; i++){\n    delay = +form.delay.value + (+form.step.value) * (i - 1);\n\n      createPromise(i, delay)\n      .then(({ i, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${delay}ms`);\n      })\n      .catch(({ i, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${delay}ms`);\n      });\n    promises.push(createPromise(i, delay))};\n  \n  Promise.race(promises)\n  .then(value => console.log(value)) \n  .catch(error => console.log(error))};\n\n\n  form.addEventListener('submit', onSubmitBtn);\n\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$i","$47d4ff9957288465$var$createPromise","i1","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","i","delay","addEventListener","event","preventDefault","promises","amount","value","step","then","i2","delay2","$parcel$interopDefault","Notify","success","catch","i3","delay3","failure","push","race","console","log","error"],"version":3,"file":"03-promises.7be285f8.js.map"}