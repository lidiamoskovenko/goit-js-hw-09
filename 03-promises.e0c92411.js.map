{"mappings":"iiBAAA,IAIIA,EACAC,EALJC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAIpC,SAASC,EAAcC,EAAGC,GACtB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAAEM,EAAAT,EAAGU,MAAAT,IAEbG,EAAO,CAACK,EAAAT,EAAGU,MAAAT,G,GAEZA,E,IAuBPL,EAAKe,iBAAiB,UApBxB,SAAsBC,GACpBA,EAAMC,iBACN,IAAMC,EAAW,GACjB,IAAKrB,EAAE,EAAGA,IAAIG,EAAKmB,OAAOC,MAAOvB,IAC/BD,GAASI,EAAKc,MAAMM,QAAUpB,EAAKqB,KAAKD,OAAUvB,EAAI,GAEpDM,EAAcN,EAAGD,GAChB0B,MAAK,SAAAC,G,IAAGC,EAACD,EAADV,EAAGY,EAAKF,EAALT,MACVY,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAiCC,OAARL,EAAE,QAAYK,OAANJ,EAAM,M,IAEhEK,OAAM,SAAAP,G,IAAGQ,EAACR,EAADV,EAAGmB,EAAKT,EAALT,MACXY,EAAA5B,GAAS6B,OAAOM,QAAQ,sBAA8BJ,OAARE,EAAE,QAAYF,OAANG,EAAM,M,IAEhEd,EAASgB,KAAK/B,EAAcN,EAAGD,IAEjCU,QAAQ6B,KAAKjB,GACZI,MAAK,SAAAF,G,OAASgB,QAAQC,IAAIjB,E,IAC1BU,OAAM,SAAAQ,G,OAASF,QAAQC,IAAIC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nlet delay;\nlet i;\nfunction createPromise(i, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n  \n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ i, delay });\n        } else {\n          reject({i, delay });\n        }\n      }, delay);\n    });\n  }\nfunction onSubmitBtn (event){\n  event.preventDefault();\n  const promises = [];\n  for (i=1; i<=+form.amount.value; i++){\n    delay = +form.delay.value + (+form.step.value) * (i - 1);\n\n      createPromise(i, delay)\n      .then(({ i, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${delay}ms`);\n      })\n      .catch(({ i, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${delay}ms`);\n      });\n    promises.push(createPromise(i, delay))};\n  \n  Promise.race(promises)\n  .then(value => console.log(value)) \n  .catch(error => console.log(error))};\n\n\n  form.addEventListener('submit', onSubmitBtn);\n\n\n\n"],"names":["$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$i","$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","i1","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","i","delay","addEventListener","event","preventDefault","promises","amount","value","step","then","param","i2","delay2","$parcel$interopDefault","Notify","success","concat","catch","i3","delay3","failure","push","race","console","log","error"],"version":3,"file":"03-promises.e0c92411.js.map"}