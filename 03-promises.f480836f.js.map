{"mappings":"iiBAAA,IAKIA,EALJC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAyBlC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAAEH,WAAUS,MAAAR,IAEpBG,EAAO,CAAEJ,WAAUS,MAAAR,G,GAEpBA,E,IAjCTL,EAAKc,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAMC,iBACN,IAAMC,EAAW,GACjB,IAAKb,SAAS,EAAGA,WAAWJ,EAAKkB,OAAOC,MAAOf,WAC7CP,GAASG,EAAKa,MAAMM,QAAUnB,EAAKoB,KAAKD,OAAUf,SAAW,GAE7DD,EAAcC,SAAUP,GACrBwB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARlB,SAAUoB,EAAKF,EAALT,MACjBY,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,IAEvEK,OAAM,SAAAP,G,IAAGC,EAAQD,EAARlB,SAAU0B,EAAKR,EAALT,MAClBY,EAAA3B,GAAS4B,OAAOK,QAAQ,sBAAqCH,OAAfL,EAAS,QAAYK,OAANE,EAAM,M,IAGvEb,EAASe,KAAK7B,EAAcC,SAAUP,IAExCS,QAAQ2B,KAAKhB,GACZI,MAAK,SAAAF,G,OAASe,QAAQC,IAAIhB,E,IAC1BU,OAAM,SAAAO,G,OAASF,QAAQC,IAAIC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitBtn);\nlet delay;\n\nfunction onSubmitBtn (event){\n  event.preventDefault();\n  const promises = [];\n  for (position=1; position<=+form.amount.value; position++){\n    delay = +form.delay.value + (+form.step.value) * (position - 1);\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n\n    promises.push(createPromise(position, delay))};\n  \n  Promise.race(promises)\n  .then(value => console.log(value)) \n  .catch(error => console.log(error))};\n\n  function createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n  \n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ position, delay });\n        } else {\n          reject({ position, delay });\n        }\n      }, delay);\n    });\n  }\n  "],"names":["$ce04d3a99e08e73b$var$delay","$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","addEventListener","event","preventDefault","promises","amount","value","step","then","param","_$position","delay1","$parcel$interopDefault","Notify","success","concat","catch","delay2","failure","push","race","console","log","error"],"version":3,"file":"03-promises.f480836f.js.map"}